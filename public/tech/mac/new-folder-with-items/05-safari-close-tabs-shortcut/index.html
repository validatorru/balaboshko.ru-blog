<!DOCTYPE html>
<html lang="ru">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="">
<meta name="description" content=" Апостол Фома тыц. Рубенс тыц.
Компютерный манипулятор «мышь». Оторопь берёт: представить только сколько километров протащили мои мышцы этот кусок пластика по офисным столам.
Попросите компьютер визуализировать все движения мышкой, которые совершают люди в вашем доме, пусть они отображаются белыми точками. Теперь попросите компьютер отдалить картинку, сменить масштаб до квартала — вы увидите как точки сливаются в реки белых пульсирующих пикселов. Не останавливайтесь, попросите программу отдалять картинку ещё дальше и вы увидите как весь мир полыхает белым. кажется, что-то подобное кто-то уже написал до меня.
" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="http://localhost:1313/tech/mac/new-folder-with-items/05-safari-close-tabs-shortcut/" />


    <title>
        
            шорткат для закрытия вкладок в safari :: Пишу/читаю  — Пишу/читаю
        
    </title>





  <link rel="stylesheet" href="/main.min.07ea7ac7da67e2e153a7dfa2457bc6a19cca824288d175e223fadc579041bc51.css" integrity="sha256-B&#43;p6x9pn4uFTp9&#43;iRXvGoZzKgkKI0XXiI/rcV5BBvFE=" crossorigin="anonymous">





    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="">
    <link rel="shortcut icon" href="/favicon.ico">
    <meta name="msapplication-TileColor" content="">



  <meta itemprop="name" content="шорткат для закрытия вкладок в safari">
  <meta itemprop="description" content="Апостол Фома тыц. Рубенс тыц.
Компютерный манипулятор «мышь». Оторопь берёт: представить только сколько километров протащили мои мышцы этот кусок пластика по офисным столам.
Попросите компьютер визуализировать все движения мышкой, которые совершают люди в вашем доме, пусть они отображаются белыми точками. Теперь попросите компьютер отдалить картинку, сменить масштаб до квартала — вы увидите как точки сливаются в реки белых пульсирующих пикселов. Не останавливайтесь, попросите программу отдалять картинку ещё дальше и вы увидите как весь мир полыхает белым. кажется, что-то подобное кто-то уже написал до меня.">
  <meta itemprop="datePublished" content="2025-09-13T18:18:22+03:00">
  <meta itemprop="dateModified" content="2025-09-13T18:18:22+03:00">
  <meta itemprop="wordCount" content="489">
  <meta itemprop="image" content="http://localhost:1313/">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="http://localhost:1313/">
  <meta name="twitter:title" content="шорткат для закрытия вкладок в safari">
  <meta name="twitter:description" content="Апостол Фома тыц. Рубенс тыц.
Компютерный манипулятор «мышь». Оторопь берёт: представить только сколько километров протащили мои мышцы этот кусок пластика по офисным столам.
Попросите компьютер визуализировать все движения мышкой, которые совершают люди в вашем доме, пусть они отображаются белыми точками. Теперь попросите компьютер отдалить картинку, сменить масштаб до квартала — вы увидите как точки сливаются в реки белых пульсирующих пикселов. Не останавливайтесь, попросите программу отдалять картинку ещё дальше и вы увидите как весь мир полыхает белым. кажется, что-то подобное кто-то уже написал до меня.">







    <meta property="article:published_time" content="2025-09-13 18:18:22 &#43;0300 MSK" />












    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text ">
                Alex Balaboshko</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/tech/">блог</a></li><li><a href="/mech/">штуки</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            
            </p>
        </div>

        <article>
            <h2 class="post-title"><a href="http://localhost:1313/tech/mac/new-folder-with-items/05-safari-close-tabs-shortcut/">шорткат для закрытия вкладок в safari</a></h2>

            
            
            

            <div class="post-content">
                <p><img src="/images/05-safari-close-tabs-shortcut/00.png" alt="Peter Paul Rubens. Thomas the Apostle">
<strong>Апостол Фома <a href="https://en.wikipedia.org/wiki/Thomas_the_Apostle">тыц</a>.  Рубенс <a href="https://en.wikipedia.org/wiki/Peter_Paul_Rubens">тыц</a>.</strong></p>
<p>Компютерный манипулятор «мышь». Оторопь берёт: представить только сколько километров протащили мои мышцы этот кусок пластика по офисным столам.</p>
<p><strong>Попросите компьютер визуализировать все движения мышкой, которые совершают люди в вашем доме, пусть они отображаются белыми точками. Теперь попросите компьютер отдалить картинку, сменить масштаб до квартала  — вы увидите как точки сливаются в реки белых пульсирующих пикселов. Не останавливайтесь, попросите программу отдалять картинку ещё дальше и вы увидите как весь мир полыхает белым.</strong>  <del>кажется, что-то подобное кто-то уже написал до меня</del><a href="https://en.wikipedia.org/wiki/Neuromancer">.</a></p>
<p>Если серьёзно, то я вот, психую когда мне нужно тянуть курсор к миллипипическому крестику на вкладке или к самой микровкладке чтобы щёлкнуть по ней правой кнопкой и выбрать из выпадающего меню пункт Close all tabs to the right. Первая задача решается одним сочетанием клавиш (или вообще одной кнопкой <code>x</code>, если у вас как у меня браузер понимает vim-навигацию). А вот вторая задача конкретно триггерит — ну почему в 2025 году все такие доступные и продуманные интерфейсы, разработанные международными корпорациями с триллионными бюджетами и миллиардами человеко-часов, не предоставляют такую тривиальную опцию. Как нам быть, мы все обречены на бесконечное повторение однотипных сочетаний клавиш или на вечное елозение курсором пока сточеная об стол мышка не выпадет из наших ослабевших коченеющих рук.</p>
<p>Спасение грядёт! Мне было видение, что при помощи <del>палки и верёвки</del> Karabiner Elements, shell и apple script задача решается!</p>
<p><em>Prerequisites:</em></p>
<ul>
<li>Умеем читать и повторять по инструкции</li>
<li>Karabiner Elements у нас уже есть</li>
<li>Консолью мы худо-бедно умеем пользоваться</li>
</ul>
<p>С приложениями в Macos умеeт взаимодействовать Apple Script, shell-скрипты могут запускать файлы, содержащие Apple Script. Karabiner Elements может запускать shell-скрипты по заданным сочетаниям клавиш (или по каким-то другим раздражителям).</p>
<p><em>Итак, аутлайн следующий:</em></p>
<ul>
<li>придумать Apple Script, который умеет в Safari закрывать вкладки, индекс котрых выше чем у активной</li>
<li>где-то в домашней папке добавляем папку <code>myscripts/karabiner-scripts</code> (ну или как вам хочется назвать) чтобы хранить там весь наш хлам, связаный с карабином и его автоматизациями</li>
<li>добавляем файл с apple-script, добавляем shell-скрипт, который будет его вызывать</li>
<li>в karabiner добавляем настройку, котрая по клавиатурному сочетанию будет запускать этот скрипт</li>
</ul>
<h1 id="план">План:</h1>
<p>В этой папке делаем два файлика:</p>
<p>safari-close-tabs2theright.scpt</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-applescript" data-lang="applescript"><span style="display:flex;"><span><span style="color:#75715e">-- safari-close-tabs2theright.scpt</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- Тот самый скрипт, который закрывает вкладки</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">tell</span> <span style="color:#a6e22e">window</span> <span style="color:#ae81ff">1</span> <span style="color:#66d9ef">of</span> application <span style="color:#e6db74">&#34;Safari&#34;</span>
</span></span><span style="display:flex;"><span>    close (tabs where <span style="color:#a6e22e">index</span> <span style="color:#f92672">&gt;</span> (<span style="color:#66d9ef">get</span> <span style="color:#a6e22e">index</span> <span style="color:#66d9ef">of</span> current <span style="color:#66d9ef">tab</span>))
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span></code></pre></div><p>safari-close-tabs2theright.sh</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/zsh
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># safari-close-tabs2theright.sh</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># shell-скрипт, который запускает safari-close-tabs2theright.scpt</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>osascript ./safari-close-tabs2theright.scpt
</span></span></code></pre></div><p>Файлики должны быть исполняемыми (чтобы Karabiner Elements смог их запустить)</p>
<p>Если лень делать файлики самостоятельно, идём ко мне в гитхаб, <del>ставим звездочку</del>, <a href="http://github.com/validatorru/karabiner-scripts">клонируем</a>, вписываем правильный путь.</p>
<p>В Karabiner Elements добавляем «сложную модификацию» (Complex Modifications &gt; Add your own rule)</p>
<p>И туда копипастим вот это:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;Close tabs to the right Safari&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;manipulators&#34;</span>: [
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;from&#34;</span>: {
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;key_code&#34;</span>: <span style="color:#e6db74">&#34;w&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;modifiers&#34;</span>: { <span style="color:#f92672">&#34;mandatory&#34;</span>: [<span style="color:#e6db74">&#34;left_command&#34;</span>, <span style="color:#e6db74">&#34;left_option&#34;</span>, <span style="color:#e6db74">&#34;left_shift&#34;</span>] }
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;to&#34;</span>: [{ <span style="color:#f92672">&#34;shell_command&#34;</span>: <span style="color:#e6db74">&#34;{Сюда — путь до скриптов}/safari-close-tabs2theright.sh&#34;</span> }],
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;basic&#34;</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><img src="/images/05-safari-close-tabs-shortcut/01.png" alt="karabiner add complex modificktion">
— <em>чуваааак! на скрине вместо Safari — ерунда какая-то&hellip;</em></p>
<h1 id="safari--вжух-и-все-вкладки-справа-уничтожены">Safari — вжух! И все вкладки справа уничтожены</h1>
<p>И теперь в сафари можно нажать левые cmd+opt+shift+w, чтобы закрыть вкладки справа.</p>


            </div>
        </article>

        <hr />

        <div class="post-info">
            
  		</div>
    </main>

            </div>

            
                <footer class="footer">
    
    
</footer>

            
        </div>

        



<script type="text/javascript" src="/bundle.min.ad54ad97364f77ede35def9096b162bb1f0b3973aa50b080f5e82fa147f6882e2a7200d7535adbf9b51bebf939f1c1ca9bbe6be87530092aca720eac4a226fda.js" integrity="sha512-rVStlzZPd&#43;3jXe&#43;QlrFiux8LOXOqULCA9egvoUf2iC4qcgDXU1rb&#43;bUb6/k58cHKm75r6HUwCSrKcg6sSiJv2g=="></script>




    </body>
</html>
